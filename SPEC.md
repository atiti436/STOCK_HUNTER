# é¸è‚¡ç¨‹å¼è¦æ ¼æ›¸ v5.2 (èè³‡åˆ¸ + YoY ç‰ˆ)

**ç‰ˆæœ¬**: v5.2 - 2026-01-06
**ç›®æ¨™**: æ‰¾ã€Œæ³•äººæœ‰åœ¨è²·ã€ç±Œç¢¼ä¹¾æ·¨ã€è¶¨å‹¢å‘ä¸Šã€çš„è‚¡ç¥¨

---

## ä¸€ã€æ ¸å¿ƒç¯©é¸æ¢ä»¶

### 1. åŸºæœ¬é¢æ¢ä»¶ (ç¡¬é–€æª»)
| é …ç›® | æ¢ä»¶ | èªªæ˜ |
|------|------|------|
| è‚¡åƒ¹å€é–“ | **90-300 å…ƒ** | é–å®šä¸­é«˜åƒ¹è‚¡ |
| æœ¬ç›Šæ¯” | PE < 35 | é¿å…ä¼°å€¼éé«˜ |
| æ’é™¤é¡å‹ | é‡‘èã€ç‡Ÿå»ºã€ETF | æ’é™¤ç‰¹æ®Šç”¢æ¥­ |

### 2. æŠ€è¡“é¢æ¢ä»¶ (ç¡¬é–€æª» + åŠ åˆ†é …)
**ã€ç¡¬é–€æª»ã€‘**
| é …ç›® | æ¢ä»¶ | èªªæ˜ |
|------|------|------|
| å‡ç·šä½ç½® | è‚¡åƒ¹ > MA20 | è¶¨å‹¢å‘ä¸Š |
| 5æ—¥ç´¯ç©æ¼²å¹… | < 15% | é¿å…éŒ¯éå¼·å‹¢é£†è‚¡ |
| RSI | < 85 | é¿å…éç†± |
| æ—¥æˆäº¤é‡ | > 800 å¼µ | æµå‹•æ€§ |

**ã€åŠ åˆ†é …ã€‘**
| é …ç›® | +1 åˆ†æ¢ä»¶ | èªªæ˜ |
|------|----------|------|
| é‡èƒ½ | ä»Šæ—¥é‡ > 5æ—¥å‡é‡ | äººæ°£åŒ¯èš |
| å‹•èƒ½ | ä¹–é›¢>1% ä¸”æ”¶ç´… | æ”»æ“Šæ…‹å‹¢ |
| ä½éš | æ¼²å¹… 0~5% | ç©©å¥ä¸è¿½é«˜ |

### 3. ç±Œç¢¼é¢æ¢ä»¶ (ç¡¬é–€æª» + åŠ åˆ†é …)
| é …ç›® | æ¢ä»¶ | èªªæ˜ |
|------|------|------|
| æ³•äººé€£çºŒè²·è¶… | â‰¥ 2 å¤© (ç¡¬é–€æª») | è¶¨å‹¢ç¢ºç«‹ |
| æ³•äºº5æ—¥è²·è¶… | > 300 å¼µ (ç¡¬é–€æª») | è²·ç›¤åŠ›é“ |
| æ³•äºº1æœˆç´¯ç© | > -10,000 å¼µ (ç¡¬é–€æª») | é¿å…æ³•äººæ’¤é€€è‚¡ |
| +1 åˆ† | æ³•äºº5æ—¥è²·è¶… > 0 | åŠ åˆ†é … |
| +1 åˆ† | é€£çºŒè²·è¶… â‰¥ 3 å¤© | åŠ åˆ†é … |

### 4. v5.2 æ–°å¢ï¼šèè³‡åˆ¸åŠ åˆ† (Bonus)
| é …ç›® | +1 åˆ†æ¢ä»¶ | èªªæ˜ |
|------|----------|------|
| ç±Œç¢¼å®‰å®š | èè³‡3æ—¥æ¸› + æ³•äººè²· | [è³‡æ¸›] æ•£æˆ¶èµ°ã€æ³•äººä¾† |
| è»‹ç©ºç‡ƒæ–™ | èåˆ¸3æ—¥å¢ | [è»‹ç©º] æœ‰å˜ç©ºæ½›åŠ› |

### 5. v5.2 æ–°å¢ï¼šç‡Ÿæ”¶ YoY åŠ åˆ† (Bonus)
| é …ç›® | +1 åˆ†æ¢ä»¶ | èªªæ˜ |
|------|----------|------|
| ç‡Ÿæ”¶æˆé•· | YoY > 0% | åŸºæœ¬é¢åŠ åˆ† (éç¡¬é–€æª») |

> **ç©ºçª—æœŸè™•ç†**ï¼š1-10è™Ÿè‹¥ç„¡ç•¶æœˆè³‡æ–™ï¼Œè‡ªå‹• fallback ä¸Šæœˆ YoY

---

## äºŒã€è³‡æ–™ä¾†æºèˆ‡ API

### è³‡æ–™æä¾›å•†
1. **FinMind API** (ä¸»è¦è³‡æ–™æº)
   - è‚¡åƒ¹è³‡æ–™
   - æ³•äººè²·è³£è¶…
   - ç‡Ÿæ”¶è³‡æ–™
   - è²¡å ±è³‡æ–™

2. **å°ç£è­‰äº¤æ‰€ API**
   - æœ¬ç›Šæ¯”è³‡æ–™ (`https://www.twse.com.tw/rwd/zh/afterTrading/BWIBBU_d`)

### Token ç®¡ç†
```python
FINMIND_TOKENS = [
    'Token1',  # Backer ä»˜è²»ç‰ˆ 1600/hr
    'Token2',  # å…è²»ç‰ˆ 600/hr
    'Token3',  # å…è²»ç‰ˆ 600/hr
]
```
- æ”¯æ´è¼ªæ›¿ (rate limit æ™‚è‡ªå‹•åˆ‡æ›)
- åªåœ¨ 429 éŒ¯èª¤æ™‚åˆ‡æ›

---

## ä¸‰ã€è³‡æ–™æµç¨‹ (6 å¤§æ­¥é©Ÿ)

### æ­¥é©Ÿ 1: æŠ“å–ç•¶æ—¥è‚¡åƒ¹è³‡æ–™
**API**: `taiwan_stock_daily`
```python
# v3: é€æª”æŠ“å–
for ticker in all_tickers:
    df = finmind.taiwan_stock_daily(stock_id=ticker, start_date=today, end_date=today)

# v4: æ‰¹é‡æŠ“å– (å„ªåŒ–)
df = finmind.taiwan_stock_daily(start_date=today, end_date=today)  # å…¨å¸‚å ´
```
**è¼¸å‡º**: `{ticker: {name, price, volume, change_pct}}`

### æ­¥é©Ÿ 2: æŠ“å– PE æœ¬ç›Šæ¯”
**API**: è­‰äº¤æ‰€ `BWIBBU_d`
```python
url = f'https://www.twse.com.tw/rwd/zh/afterTrading/BWIBBU_d?date={date}'
```
**ç¯©é¸**: PE < 35
**è¼¸å‡º**: `{ticker: pe_value}`

### æ­¥é©Ÿ 3: æŠ“å–æ³•äººè²·è³£è¶…è³‡æ–™
**API**: `taiwan_stock_institutional_investors`
```python
# v3: é€æª”æŠ“å–
for ticker in candidates:
    df = finmind.taiwan_stock_institutional_investors(
        stock_id=ticker, start_date=start, end_date=end)

# v4: æ‰¹é‡æŠ“å– (å„ªåŒ–)
df = finmind.taiwan_stock_institutional_investors(
    start_date=start, end_date=end)  # å…¨å¸‚å ´
```
**è¼¸å‡º**:
```python
{ticker: [
    {'date': '2026-01-05', 'total': 1000, 'foreign': 800, 'trust': 200, ...},
    ...
]}
```

### æ­¥é©Ÿ 4: æŠ“å–æ­·å²è‚¡åƒ¹ (è¨ˆç®—æŠ€è¡“æŒ‡æ¨™)
**API**: `taiwan_stock_daily` (10-20æ—¥)
```python
# v3: é€æª”æŠ“å–
for ticker in candidates:
    df = finmind.taiwan_stock_daily(stock_id=ticker, start_date, end_date)

# v4: ä½¿ç”¨æ­¥é©Ÿ1çš„å¿«å– (å„ªåŒ–)
historical_cache = build_cache_from_step1()
```
**è¨ˆç®—**:
- MA10, MA20
- RSI(14)
- 5æ—¥æ¼²å¹…
- 5æ—¥å‡é‡

### æ­¥é©Ÿ 5: æŠ“å–ç‡Ÿæ”¶è³‡æ–™ âš¡ å»ºè­°å¿«å–åŒ–
**API**: `taiwan_stock_month_revenue`
```python
df = finmind.taiwan_stock_month_revenue(
    stock_id=ticker, start_date='2024-01', end_date='2025-12')
```
**è¨ˆç®—**: YoY (ç•¶æœˆ vs å»å¹´åŒæœˆ)

**âš¡ å„ªåŒ–å»ºè­° (GEMINI)**:
- ç‡Ÿæ”¶æ¯æœˆåªå…¬å¸ƒä¸€æ¬¡ (æ¯æœˆ10è™Ÿ)
- å»ºç«‹ç¨ç«‹è…³æœ¬ `update_revenue.py`ï¼Œæ¯æœˆ11è™ŸåŸ·è¡Œ
- å­˜æˆæœ¬æ©Ÿæª”æ¡ˆ `data/cache/revenue_cache.pkl`
- æ¯æ—¥é¸è‚¡ç›´æ¥è®€å¿«å– â†’ **é€Ÿåº¦å¿«100å€** (120æ¬¡API â†’ 0æ¬¡)

```python
# update_revenue.py (æ¯æœˆ11è™ŸåŸ·è¡Œ)
import pickle
from FinMind.data import DataLoader

def update_revenue_cache():
    dl = DataLoader()
    dl.login_by_token(api_token=TOKEN)

    # æŠ“å…¨å¸‚å ´ç‡Ÿæ”¶
    all_revenue = {}
    for ticker in all_tickers:
        df = dl.taiwan_stock_month_revenue(
            stock_id=ticker,
            start_date='2023-01',
            end_date='2025-12'
        )
        all_revenue[ticker] = calculate_yoy(df)

    # å­˜æª”
    with open('data/cache/revenue_cache.pkl', 'wb') as f:
        pickle.dump({
            'data': all_revenue,
            'update_date': datetime.now(),
        }, f)

# scan.py (æ¯æ—¥é¸è‚¡)
def load_revenue_cache():
    with open('data/cache/revenue_cache.pkl', 'rb') as f:
        cache = pickle.load(f)

    # æª¢æŸ¥æ˜¯å¦éæœŸ (è¶…é35å¤©æé†’æ›´æ–°)
    age = (datetime.now() - cache['update_date']).days
    if age > 35:
        print(f'[WARN] ç‡Ÿæ”¶å¿«å–å·² {age} å¤©æœªæ›´æ–°ï¼Œå»ºè­°åŸ·è¡Œ update_revenue.py')

    return cache['data']
```

### æ­¥é©Ÿ 6: æŠ“å–è²¡å ±è³‡æ–™
**API**: `taiwan_stock_financial_statement`
```python
df = finmind.taiwan_stock_financial_statement(
    stock_id=ticker, start_date='2024-Q1', end_date='2025-Q3')
```
**è¨ˆç®—**: ROE (è‚¡æ±æ¬Šç›Šå ±é…¬ç‡)

---

## å››ã€ç¯©é¸é‚è¼¯

```
å…¨å¸‚å ´è‚¡ç¥¨ (1700+ æª”)
  â†“
ã€æ­¥é©Ÿ1ã€‘åŸºæœ¬ç¯©é¸: åƒ¹æ ¼30-300, æ’é™¤é‡‘è/ç‡Ÿå»º/ETF
  â†“ (~240 æª”)
ã€æ­¥é©Ÿ2ã€‘PEç¯©é¸: PE < 35
  â†“ (~600 æª” â†’ å–äº¤é›† ~120 æª”)
ã€æ­¥é©Ÿ3-6ã€‘æŠ“å–è©³ç´°è³‡æ–™ (æ³•äºº/æŠ€è¡“/ç‡Ÿæ”¶/è²¡å ±)
  â†“
ã€æœ€çµ‚ç¯©é¸ã€‘å¥—ç”¨æ‰€æœ‰æ¢ä»¶
  â†“
è¼¸å‡º: 0-10 æª”æ¨è–¦è‚¡
```

### v5.1 ç¯©é¸é †åº (é€æ¢æª¢æŸ¥)
1. åŸºæœ¬è³‡æ–™å®Œæ•´æ€§ (`inst` å’Œ `hist` å­˜åœ¨)
2. ç±Œç¢¼é¢: é€£çºŒè²·è¶…â‰¥2å¤© ä¸” 5æ—¥è²·è¶…>300å¼µ ä¸” 1æœˆç´¯ç©>-10000å¼µ
3. æŠ€è¡“é¢: 5æ—¥æ¼²<**15%** ä¸” åƒ¹>MA20 ä¸” RSI<**85**
4. è©•åˆ†: è¨ˆç®—5é …åŠ åˆ† (æ³•äººè²·è¶…ã€é€£è²·â‰¥3ã€æ”»æ“Šæ…‹å‹¢ã€é‡å¢ã€ç©©æ¼²)
5. éæ¿¾: åªé¡¯ç¤º **â‰¥3åˆ†** è‚¡ç¥¨
6. é€šé â†’ åŠ å…¥çµæœ

---

## äº”ã€è©•åˆ†èˆ‡æ’åº

### v3 è©•åˆ† (ç°¡å–®ç‰ˆ)
```python
score = buy_days * 10 + (inst_5day / 100)
```
- æ³•äººé€£çºŒè²·è¶…å¤©æ•¸ Ã— 10
- æ³•äºº5æ—¥è²·è¶…å¼µæ•¸ / 100

### v4 è©•åˆ† (é€²éšç‰ˆ)
```python
score = (
    institutional_weight * 0.4 +  # ç±Œç¢¼é¢ 40%
    technical_weight * 0.3 +      # æŠ€è¡“é¢ 30%
    fundamental_weight * 0.3      # åŸºæœ¬é¢ 30%
)
```

**ç±Œç¢¼é¢æ¬Šé‡**:
- æ³•äºº5æ—¥è²·è¶…å¼µæ•¸ (0-100åˆ†)
- é€£çºŒè²·è¶…å¤©æ•¸ (0-100åˆ†)
- æ³•äººä¸»åŠ›åˆ¤å®š (å¤–è³‡/æŠ•ä¿¡åŠ åˆ†)

**æŠ€è¡“é¢æ¬Šé‡**:
- MAä½ç½® (åƒ¹æ ¼ä¹–é›¢%)
- RSI (50-70 æœ€ä½³)
- æˆäº¤é‡ (é‡åƒ¹é…åˆ)

**åŸºæœ¬é¢æ¬Šé‡**:
- PE ratio (è¶Šä½è¶Šå¥½)
- ROE (è¶Šé«˜è¶Šå¥½)
- ç‡Ÿæ”¶YoY (è¶Šé«˜è¶Šå¥½)

---

## å…­ã€åœæåœåˆ©è¨ˆç®— (v5.1 ATR åŠ‡æœ¬å°å¡)

### ATR (Average True Range) è¨ˆç®—
```python
# 14æ—¥å¹³å‡çœŸå¯¦æ³¢å¹…
atr = average(true_range[-14:])
true_range = max(high - low, abs(high - prev_close), abs(low - prev_close))

# è‚¡ç¥¨é¡å‹åˆ¤æ–·
if atr / price > 2.5%:
    stock_type = 'ğŸ° å…”å­ (æ´»æ½‘)'  # åœæè¨­å¯¬
elif atr / price < 1.5%:
    stock_type = 'ğŸ¢ çƒé¾œ (ç‰›çš®)'  # åœæè¨­çª„
else:
    stock_type = 'ğŸš¶ æ™®é€š'
```

### ATR é€šé“æ³•åœæåœåˆ©
```python
stop_loss = price - 2 * atr  # åœæ
t1 = price + 2 * atr         # ç›®æ¨™ä¸€ (å…ˆè³£ä¸€åŠ)
t2 = price + 4 * atr         # ç›®æ¨™äºŒ (è¶¨å‹¢æ»¿è¶³)
```

---

## ä¸ƒã€è¼¸å‡ºæ ¼å¼

### JSON è¼¸å‡º (v5.1 å­˜æª”)
```json
{
  "date": "2026-01-06",
  "timestamp": "2026-01-06T19:36:00",
  "count": 3,
  "stocks": [
    {
      "ticker": "3706",
      "name": "ç¥é”",
      "price": 92.6,
      "change_pct": 1.97,
      "pe": 15.0,
      "inst_5day": 36061,
      "inst_leader": "å¤–è³‡",
      "buy_days": 7,
      "5day_change": 12.5,
      "rsi": 72.4,
      "atr": 2.2,
      "atr_pct": 2.4,
      "stock_type": "å…”å­",
      "stop_loss": 88.2,
      "t1": 97.0,
      "t2": 101.4,
      "stop_note": "2xATR (-4.8%)",
      "score": 4,
      "score_reasons": ["æ³•äººè²·è¶…", "é€£7å¤©", "æ”»æ“Š", "é‡å¢"],
      "tags": ["[å·²æ¼²]", "[æ”»æ“Š]"]
    }
  ]
}
```

### çµ‚ç«¯è¼¸å‡º (è¡¨æ ¼)
```
================================================================================
æ¨è–¦è‚¡ç¥¨ TOP 6
================================================================================
æ’å  ä»£ç¢¼  è‚¡å      è‚¡åƒ¹    æ¼²å¹…   PE   æ³•äºº5æ—¥  ä¸»åŠ›  é€£è²·  5æ—¥æ¼²  ç‡Ÿæ”¶YoY  RSI  åœæ
================================================================================
1    2327  åœ‹å·¨*    241.0   +3.7%  24.2  +5514   æŠ•ä¿¡   4å¤©   +7.6%  +22.4%  54.6  225.5
2    3231  ç·¯å‰µ     155.0   +2.0%  20.1  +73398  å¤–è³‡   5å¤©   +5.8%  +194%   70.4  146.6
...
```

---

## å…«ã€å·²çŸ¥å•é¡Œèˆ‡å„ªåŒ–æ–¹å‘

### v3 å•é¡Œ
1. **é€æª”æŠ“å–æ…¢** - æ³•äººè³‡æ–™ 120æª” Ã— 0.5ç§’ = 1åˆ†é˜
2. **æ­·å²è‚¡åƒ¹é‡è¤‡æŠ“** - æ¯æ¬¡åŸ·è¡Œéƒ½é‡æ–°æŠ“ 10æ—¥è³‡æ–™
3. **æ²’æœ‰è³‡æ–™å¿«å–** - ç„¡æ³•é›¢ç·šåˆ†æ

### v4 å„ªåŒ–
1. âœ… **æ³•äººæ”¹æ‰¹é‡æŠ“å–** - 1æ¬¡APIæŠ“å…¨å¸‚å ´ (ç§’æ®º)
2. âœ… **æ­·å²è‚¡åƒ¹å¿«å–** - æ­¥é©Ÿ1è³‡æ–™é‡ç”¨ (0æ¬¡API)
3. âŒ **ç‡Ÿæ”¶ä»é€æª”** - FinMind ä¸æ”¯æ´æ‰¹é‡ç‡Ÿæ”¶API
4. âŒ **æ‰¹é‡ API æœ‰å»¶é²** - å»¶é²1-2å¤© (å–®æª”å³æ™‚)

### v4_simple æ”¹é€²
1. âœ… **For è¿´åœˆä¿è­‰å®Œæˆ** - ä¸æœƒè¶…æ™‚
2. âœ… **æ³•äººåªæŠ“5å¤©** - æ¸›å°‘è³‡æ–™é‡
3. âœ… **Debug è¼¸å‡º** - å‰3æª”å°åŸå§‹è³‡æ–™
4. âŒ **æœªå¯¦ä½œå¿«å–** - æ¯æ¬¡éƒ½é‡æ–°ä¸‹è¼‰

---

## ä¹ã€å»ºè­°æ–°ç‰ˆæœ¬è¨­è¨ˆ

### æ ¸å¿ƒæ”¹é€²
1. **æ··åˆæ¨¡å¼è³‡æ–™æŠ“å–**
   - æ­·å²è³‡æ–™ç”¨æ‰¹é‡ (å¿«)
   - ä»Šæ—¥è³‡æ–™ç”¨å–®æª” (æº–)

2. **æŒä¹…åŒ–å¿«å–**
   ```python
   # æ¯æ—¥å­˜æª”
   cache_file = f'data/cache/stock_{date}.pkl'
   pickle.dump({
       'stocks': stocks,
       'pe_data': pe_data,
       'institutional': institutional,
       ...
   }, cache_file)
   ```

3. **âš¡ ç‡Ÿæ”¶è³‡æ–™å¿«å–åŒ–** (GEMINIå»ºè­°)
   - ç¨ç«‹è…³æœ¬ `update_revenue.py` (æ¯æœˆ11è™ŸåŸ·è¡Œ)
   - å­˜æˆ `data/cache/revenue_cache.pkl`
   - æ¯æ—¥é¸è‚¡ç›´æ¥è®€å¿«å–
   - **æ•ˆç›Š**: æ¯æ—¥ç¯€çœ120æ¬¡API, ~1åˆ†é˜

4. **é›¢ç·šåˆ†ææ¨¡å¼**
   ```bash
   python scan.py --offline  # ç”¨å¿«å–
   python scan.py            # é‡æ–°æŠ“å–
   ```

5. **ç¯©é¸çµ±è¨ˆè¼¸å‡º**
   ```
   ç¯©é¸çµ±è¨ˆ:
     ç„¡è³‡æ–™: 0 æª”
     ç±Œç¢¼é¢ä¸é: 45 æª” (é€£çºŒè²·è¶…<2å¤© æˆ– 5æ—¥è²·è¶…<300å¼µ)
     æŠ€è¡“é¢ä¸é: 38 æª” (5æ—¥æ¼²>=10% æˆ– é‡<=å‡é‡)
     è·Œç ´MA20: 28 æª”
     RSIéç†±: 7 æª”
     ç‡Ÿæ”¶è¡°é€€: 2 æª”

   æœ€çµ‚é€šé: 0 æª”
   ```

6. **æ¨¡çµ„åŒ–è¨­è¨ˆ**
   - `fetcher.py` - è³‡æ–™æŠ“å–
   - `filter.py` - ç¯©é¸é‚è¼¯
   - `scorer.py` - è©•åˆ†æ’åº
   - `output.py` - è¼¸å‡ºæ ¼å¼
   - `cache.py` - å¿«å–ç®¡ç†
   - `update_revenue.py` - ç‡Ÿæ”¶å¿«å–æ›´æ–° (æ¯æœˆåŸ·è¡Œ) âš¡

---

## åã€API ä½¿ç”¨é‡ä¼°ç®—

### æ¯æ—¥åŸ·è¡Œ
| æ­¥é©Ÿ | v3 æ¨¡å¼ | v4 æ¨¡å¼ | v4_simple | **å»ºè­°æ–°ç‰ˆ** | **æ–°ç‰ˆ+ç‡Ÿæ”¶å¿«å–** |
|------|---------|---------|-----------|------------|------------------|
| 1. è‚¡åƒ¹ | 240æ¬¡ | 1æ¬¡ | 1æ¬¡ | 1+120æ¬¡ | 1+120æ¬¡ |
| 2. PE | 1æ¬¡ | 1æ¬¡ | 1æ¬¡ | 1æ¬¡ | 1æ¬¡ |
| 3. æ³•äºº | 120æ¬¡ | 1æ¬¡ | 120æ¬¡ | 1æ¬¡ | 1æ¬¡ |
| 4. æ­·å² | 120æ¬¡ | 0æ¬¡(å¿«å–) | 120æ¬¡ | 0æ¬¡(å¿«å–) | 0æ¬¡(å¿«å–) |
| 5. ç‡Ÿæ”¶ | 120æ¬¡ | 120æ¬¡ | 120æ¬¡ | 120æ¬¡ | **0æ¬¡(å¿«å–)** âš¡ |
| 6. è²¡å ± | 120æ¬¡ | 120æ¬¡ | 120æ¬¡ | 120æ¬¡ | 120æ¬¡ |
| **ç¸½è¨ˆ** | **721æ¬¡** | **363æ¬¡** | **602æ¬¡** | **363æ¬¡** | **243æ¬¡** âš¡ |
| **æ™‚é–“** | ~6åˆ†é˜ | ~3åˆ†é˜ | ~4åˆ†é˜ | ~3åˆ†é˜ | **~2åˆ†é˜** âš¡ |

### æ¯æœˆåŸ·è¡Œ (update_revenue.py)
| é …ç›® | æ¬¡æ•¸ | æ™‚é–“ | é »ç‡ |
|------|------|------|------|
| ç‡Ÿæ”¶æ›´æ–° | 1700æ¬¡ | ~15åˆ†é˜ | æ¯æœˆ11è™ŸåŸ·è¡Œ1æ¬¡ |

**ç¸½çµ**:
- æ¯æ—¥é¸è‚¡: 243æ¬¡ API, ~2åˆ†é˜
- æ¯æœˆç‡Ÿæ”¶æ›´æ–°: 1700æ¬¡ API, ~15åˆ†é˜
- **æ¯æ—¥ç¯€çœ**: 120æ¬¡ API, ~1åˆ†é˜
- **æ¯æœˆç¯€çœ**: 120æ¬¡Ã—30å¤© = 3600æ¬¡ API âš¡

---

## é™„éŒ„: æŠ€è¡“æŒ‡æ¨™å…¬å¼

### RSI (Relative Strength Index)
```python
gains = [max(0, prices[i] - prices[i-1]) for i in range(1, period+1)]
losses = [max(0, prices[i-1] - prices[i]) for i in range(1, period+1)]

avg_gain = sum(gains) / period
avg_loss = sum(losses) / period

if avg_loss == 0:
    rsi = 100
else:
    rs = avg_gain / avg_loss
    rsi = 100 - (100 / (1 + rs))
```

### MA (Moving Average)
```python
ma10 = sum(prices[:10]) / 10
ma20 = sum(prices[:20]) / 20
```

### ä¹–é›¢ç‡
```python
deviation = (price - ma) / ma * 100
```

---

**å»ºç«‹æ™‚é–“**: 2026-01-06 00:35
**æ›´æ–°æ™‚é–“**: 2026-01-06 23:50 (v5.2 èè³‡åˆ¸+YoY å¯¦ä½œå®Œæˆ)
**åŸºæ–¼ç‰ˆæœ¬**: scan_20260106.py (v5.2 èè³‡åˆ¸ + YoY + ATR åŠ‡æœ¬å°å¡ç‰ˆ)

---

## ğŸ“‚ æ”¹ç‰ˆåŒæ­¥æ¸…å–®

> âš ï¸ æ›´æ–° `scan_20260106.py` å¾Œï¼Œè¨˜å¾—ä¸€ä½µæ›´æ–°ä»¥ä¸‹æª”æ¡ˆï¼š

| æª”æ¡ˆ | ä½ç½® | æ›´æ–°å…§å®¹ |
|------|------|----------|
| âœ… **æœ¬æª”æ¡ˆ** | `STOCK_HUNTER/SPEC.md` | ç¯©é¸æ¢ä»¶ã€è©•åˆ†ç³»çµ±ã€ç‰ˆæœ¬æ™‚é–“ |
| âœ… **èªªæ˜æ–‡ä»¶** | `STOCK_HUNTER/SCAN_20260106.md` | å¿«é€ŸæŒ‡ä»¤ã€åŠŸèƒ½èªªæ˜ |
| âœ… **AI å…¥å£** | `_BRAIN/AGENTS.md` | è‚¡ç¥¨åˆ†æ Agent å€å¡Š |
| â­• **åŠ‡æœ¬å ±å‘Š** | `data/history/analysis_*.md` | è·‘å®Œå¾Œçš„äººå·¥åˆ†æ (è¦–éœ€è¦) |
